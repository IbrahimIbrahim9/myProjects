<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quran Player</title>
    <link href="https://fonts.googleapis.com/css2?family=Poppins&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
    <script src="https://kit.fontawesome.com/a5ae918b76.js" crossorigin="anonymous"></script>

</head>

<body>
    <div class="container">
        <div class="header"><i class="fa-solid fa-angle-left"></i><i class="fa-solid fa-bars"></i></div>
        <div class="content">
            <img src="/media/thumbnail.png" alt="">
            <h3>Al SUDAIS</h3>
            <p>surah Al IMRAN</p>
            <audio  id="song"> <!-- we remove the controls attr to remove the shape of the song in the layout-->
                <source
                    src="/media/وما الحياة الدنيا إلا متاع الغرور -ملخص الحياة في ايه ❤-قرأن كريم (لا تنسي subscribe-- للقناة)(MP3_160K).mp3"
                    type="audio/mpeg">
            </audio>
            <input type="range" id="progress">
        </div>
        <div class="footer">
            <i class="fa-solid fa-backward"></i>
            <i onclick="playPause()" class="fa-solid fa-play" id="ctrlIcon"></i>
            <i class="fa-solid fa-forward"></i>
        </div>
    </div>
</body>
<script>
    let progress = document.getElementById("progress");
    let song = document.getElementById("song");
    let ctrlIcon = document.getElementById("ctrlIcon");
    song.onloadedmetadata = function () {
        progress.max = song.duration;
        progress.value = song.currentTime;
        song.pause();
    }
    function playPause() {
        if (ctrlIcon.classList.contains("fa-pause")) {
            song.pause();
            ctrlIcon.classList.remove("fa-pause");
            ctrlIcon.classList.add("fa-play");
        }
        else {
            song.play();
            ctrlIcon.classList.add("fa-pause");
            ctrlIcon.classList.remove("fa-play");
        }
    }
    if (song.play()) {
        setInterval(() => {
            progress.value = song.currentTime;
        } ,500)
    }
    progress.onchange = function () {
        song.play();
        song.currentTime = progress.value;
        ctrlIcon.classList.add("fa-pause");
        ctrlIcon.classList.remove("fa-play");
    }
</script>

</html>